{"version":3,"file":"owly-webflow.umd.js","sources":["../src/lib/create-http-client.js","../src/owly-api-http-client.js","../src/get-project-availability.js","../src/init-form.js","../src/lib/utils.js","../src/owly-vecindario.js"],"sourcesContent":["import axios from 'axios';\n\nfunction composeUrl(url, params = {}) {\n  const matches = url.match(/\\{([a-zA-Z0-9_]+)}/g);\n\n  if (matches) {\n    let parsedUrl = url;\n\n    matches.forEach((match) => {\n      const name = match.replace(/{?}?/g, '');\n\n      parsedUrl = parsedUrl.replace(match, params[name] || '');\n    });\n\n    return parsedUrl;\n  }\n\n  return url;\n}\n\n/**\n * Endpoint call options\n * @typedef {Object} EndpointCallOptions\n * @property {Object} [urlParams] - params used to compose the API url\n * @property {RequestConfig} [config] - axios config\n * @property {Object} [data] - data\n */\n\n/**\n * @typedef {import('axios').AxiosRequestConfig} RequestConfig\n * @typedef {import('axios').AxiosResponse} Response\n * @callback EndpointCallFn\n * @param {EndpointCallOptions} [options] - endpoint call options\n * @returns {Promise<Response>}\n */\n\n/**\n * Create http client\n * @typedef {{\n *   method: ('get'|'post'|'delete'|'head'|'options')\n *   url: string\n * }} EndpointConfig\n * @param {Object} options - http client config options\n * @param {string} options.baseURL - the server URL that will be used for the request\n * @param {Object<string, string>} [options.headers={}] - custom headers to be sent\n * @param {Object<string, EndpointConfig>} [options.endpoints={}] - endpoints config\n * @param {number} [options.timeout=30000] - the number of milliseconds before the request times out\n * @returns {Object<string, EndpointCallFn>}\n */\nfunction createHttpClient({\n  baseURL,\n  headers = {},\n  endpoints = {},\n  timeout = 30000,\n}) {\n  const axiosInstance = axios.create({ baseURL, headers, timeout });\n  const httpClient = {};\n\n  Object.entries(endpoints).forEach(([endpointName, options]) => {\n    const { url, method } = options;\n\n    httpClient[endpointName] = ({ urlParams, config = {}, data = {} } = {}) => {\n      const composedUrl = composeUrl(url, urlParams);\n\n      if (['get', 'delete', 'head', 'options'].includes(method)) {\n        return axiosInstance[method](composedUrl, config);\n      }\n\n      return axiosInstance[method](composedUrl, data, config);\n    };\n  });\n\n  return httpClient;\n}\n\nexport default createHttpClient;\n","import createHttpClient from './lib/create-http-client';\n\n/**\n * @typedef {import('./lib/create-http-client').EndpointCallFn} EndpointCallFn\n * @typedef {Object} OwlyHttpClient\n * @property {EndpointCallFn} getProject\n * @property {EndpointCallFn} getProjectTower\n * @property {EndpointCallFn} createLead\n */\n\n/** @type {OwlyHttpClient} */\nexport const owlyApiHttpClient = createHttpClient({\n  baseURL: 'https://api.owly.com.co',\n  endpoints: {\n    getProject: {\n      method: 'get',\n      url: '/projects/{projectId}',\n    },\n\tgetProjectTower: {\n\t  method: 'get',\n      url: '/projects/{projectId}/towers/{towerId}',\n\t},\n    createLead: {\n      method: 'post',\n      url: '/leads/',\n    },\n  },\n});\n","import { owlyApiHttpClient } from './owly-api-http-client';\n\nexport default async function getProjectAvailability(options) {\n  const {\n    product,\n    companyCode,\n    projectId,\n    token,\n    itemCallback,\n    limit = 400,\n  } = options;\n\n  const { status, data } = await owlyApiHttpClient.getProject({\n    config: {\n      params: {\n        product,\n        companyCode,\n        limit,\n        token,\n      },\n    },\n    urlParams: {\n      projectId,\n    },\n  });\n  const { project } = data;\n\n  if (status === 200 && project.units?.length) {\n    project.units.forEach((unit) => {\n      if (itemCallback && typeof itemCallback === 'function') {\n        itemCallback(unit);\n      }\n    });\n  }\n}\n","import Parsley from 'parsleyjs';\n\nimport { owlyApiHttpClient } from './owly-api-http-client';\n\nconst getFormElementData = ($formElement) =>\n  $formElement.serializeArray().reduce(\n    (acc, { name, value }) => ({\n      ...acc,\n      [name]: value,\n    }),\n    {}\n  );\n\nfunction submitHandler(event) {\n  const $formElement = event.$element;\n  const $submitBtn = $formElement.find('button[type=submit]');\n  const $alert = $formElement.find('div[role=alert]');\n\n  $submitBtn.prop('disabled', true);\n\n  owlyApiHttpClient\n    .createLead({\n      data: getFormElementData($formElement),\n    })\n    .then(() => {\n      $submitBtn.prop('disabled', false);\n      $formElement.trigger('reset');\n      $alert.removeClass('d-none');\n      setTimeout(() => $alert.addClass('d-none'), 5000);\n      event.reset();\n    });\n\n  return false;\n}\n\nexport default async function initForm(formSelector) {\n  const parsley = new Parsley.Factory(formSelector, {\n    errorClass: 'is-invalid',\n    successClass: 'is-valid',\n    errorsWrapper: '<div class=\"invalid-feedback\"></div>',\n    errorTemplate: '<div></div>',\n  });\n\n  parsley.on('form:submit', submitHandler);\n}\n","export function normalizeData(data, idAttribute = 'id') {\n  return data.reduce(\n    (acum, current) => ({\n      ...acum,\n      [current[idAttribute]]: { ...current },\n    }),\n    {}\n  );\n}\n\nconst availabilityCriteria = 'sold';\n\nconst formatNumberES = (n, d = 0) => {\n  n = new Intl.NumberFormat('es-ES').format(parseFloat(n).toFixed(d));\n\n  if (d > 0) {\n    const decimals = n.indexOf(',') > -1 ? n.length - 1 - n.indexOf(',') : 0;\n    n = decimals == 0 ? n + ',' + '0'.repeat(d) : n + '0'.repeat(d - decimals);\n  }\n  return n;\n};\n\nexport const formatTowerType = (text) => {\n  if (text.includes('_')) {\n    const array = text.split('_');\n    array.forEach((element, index, array) => {\n      array[index] = element[0].toUpperCase() + element.slice(1);\n    });\n    return array.join(' ');\n  }\n  return 'Proyecto ' + text[0].toUpperCase() + text.slice(1);\n};\n\nexport const formatDate = (date) => {\n  const [year, month] = date.split('-');\n  const months = [\n    'Enero',\n    'Febrero',\n    'Marzo',\n    'Abril',\n    'Mayo',\n    'Junio',\n    'Julio',\n    'Agosto',\n    'Septiembre',\n    'Octubre',\n    'Noviembre',\n    'Diciembre',\n  ];\n  return `${months[month - 1]} de ${year}`;\n};\n\nexport const getMinimumPrice = (array, attribute) => {\n  let minimumPrice;\n  if (array.every((e) => e.available === availabilityCriteria)) {\n    array.forEach((element, i) => {\n      if (i === 0) minimumPrice = element[attribute];\n      if (element[attribute] < minimumPrice) {\n        minimumPrice = element[attribute];\n      }\n    });\n  } else {\n    array.forEach((element) => {\n      if (element.available !== availabilityCriteria && !minimumPrice)\n        minimumPrice = element[attribute];\n      if (\n        element.available !== availabilityCriteria &&\n        element[attribute] <= minimumPrice\n      ) {\n        minimumPrice = element[attribute];\n      }\n    });\n  }\n  return `${formatNumberES(minimumPrice)}`;\n};\n\nexport const getAreas = (array, attribute) => {\n  let min, max;\n  if (array.every((e) => e.available === availabilityCriteria)) {\n    array.forEach((element, i) => {\n      if (i === 0) {\n        min = element[attribute];\n        max = element[attribute];\n      }\n      if (element[attribute] < min) {\n        min = element[attribute];\n      }\n      if (element[attribute] > max) {\n        max = element[attribute];\n      }\n    });\n  } else {\n    array.forEach((element) => {\n      if (element.available !== availabilityCriteria && !min) {\n        min = element[attribute];\n      }\n      if (element.available !== availabilityCriteria && !max) {\n        max = element[attribute];\n      }\n      if (\n        element.available !== availabilityCriteria &&\n        element[attribute] < min\n      ) {\n        min = element[attribute];\n      }\n      if (\n        element.available !== availabilityCriteria &&\n        element[attribute] > max\n      ) {\n        max = element[attribute];\n      }\n    });\n  }\n  return min === max ? `${max} m²` : `${min} a ${max} m²`;\n};\n\nexport const enumerator = (array, attribute) => {\n  let quantities = [];\n  if (array.every((e) => e.available === availabilityCriteria)) {\n    array.forEach((element, i) => {\n      if (i === 0) {\n        quantities.push(element[attribute]);\n      }\n      if (!quantities.includes(element[attribute])) {\n        quantities.push(element[attribute]);\n      }\n    });\n  } else {\n    array.forEach((element, i) => {\n      if (\n        element.available !== availabilityCriteria &&\n        !quantities.includes(element[attribute])\n      ) {\n        quantities.push(element[attribute]);\n      }\n    });\n  }\n  if (quantities.length === 1) return quantities[0];\n  quantities.sort((a, b) => a - b);\n  const last = quantities.pop();\n  return quantities.join(', ') + ' y ' + last;\n};\n","import { owlyApiHttpClient } from './owly-api-http-client';\nimport {\n  enumerator,\n  formatDate,\n  formatTowerType,\n  getAreas,\n  getMinimumPrice,\n} from './lib/utils';\n\nexport default async function getVecindario(constants) {\n  const {\n    projectId,\n    BASE_QUOTER_ID,\n    towerId,\n    typologies = {},\n    root,\n  } = constants;\n\n  try {\n    const {\n      status: propertiesStatus,\n      data: {\n        project: {\n          tower: { units },\n        },\n      },\n    } = await owlyApiHttpClient.getProjectTower({\n      config: {\n        params: {\n          product: 'vecindario',\n        },\n      },\n      urlParams: {\n        projectId,\n        towerId,\n      },\n    });\n    const pathname = window.location.pathname;\n    if (\n      pathname === '/' ||\n      pathname === root ||\n      pathname === root + '/' ||\n      pathname === `${root}/index.html`\n    ) {\n      // Sección de inicio\n      const {\n        status: towersStatus,\n        data: {\n          project: { towers },\n        },\n      } = await owlyApiHttpClient.getProject({\n        config: {\n          params: {\n            product: 'vecindario',\n          },\n        },\n        urlParams: {\n          projectId,\n        },\n      });\n      if (towersStatus === 200) {\n        const towerType = document.getElementById('tower-type');\n        const totalTowers = document.getElementById('total-towers');\n        const deadline = document.getElementById('deadline');\n        if (towerType)\n          towerType.innerHTML = formatTowerType(towers[0].towerType);\n        if (totalTowers) totalTowers.innerHTML = towers.length;\n        if (deadline) deadline.innerHTML = formatDate(towers[0].deadline);\n      }\n      if (propertiesStatus === 200) {\n        const totalProperties = document.getElementById('total-properties');\n        const minimumPrice = document.getElementById('minimum-price');\n        const areas = document.getElementById('areas');\n        const bedrooms = document.getElementById('bedrooms');\n        const bathrooms = document.getElementById('bathrooms');\n        if (totalProperties) totalProperties.innerHTML = units.length;\n        if (minimumPrice)\n          minimumPrice.innerHTML = getMinimumPrice(units, 'finalPrice');\n        if (areas) areas.innerHTML = getAreas(units, 'builtArea');\n        if (bedrooms) bedrooms.innerHTML = enumerator(units, 'bedrooms');\n        if (bathrooms) bathrooms.innerHTML = enumerator(units, 'bathrooms');\n      }\n    } else {\n      let fit = 0;\n      if (root) fit = root.split('/').length - 1;\n      let secondParam = pathname.split('/')[2 + fit];\n      let thirdParam = pathname.split('/')[3 + fit];\n      if (secondParam?.includes('.html'))\n        secondParam = secondParam.split('.html')[0];\n      if (thirdParam?.includes('.html'))\n        thirdParam = thirdParam.split('.html')[0];\n      if (secondParam) {\n        if (propertiesStatus === 200) {\n          const [isType, type] = secondParam.split('-');\n          if (isType === 'tipo') {\n            // Sección de tipologías\n            const typeName = document.getElementById('type-name');\n            const typeMinPrice = document.getElementById('type-min-price');\n            const builtArea = document.getElementById('built-area');\n            const privateArea = document.getElementById('private-area');\n            const typeBedrooms = document.getElementById('type-bedrooms');\n            const typeBathrooms = document.getElementById('type-bathrooms');\n\n            const unitsByType = [];\n            units.forEach((unit) => {\n              if (unit.type.toUpperCase() === type.toUpperCase())\n                unitsByType.push(unit);\n            });\n            if (typeName && unitsByType.length)\n              typeName.innerHTML = `Tipo ${unitsByType[0].type}`;\n            if (typeMinPrice)\n              typeMinPrice.innerHTML = getMinimumPrice(\n                unitsByType,\n                'finalPrice'\n              );\n            if (builtArea)\n              builtArea.innerHTML = getAreas(unitsByType, 'builtArea');\n            if (privateArea)\n              privateArea.innerHTML = getAreas(unitsByType, 'privateArea');\n            if (typeBedrooms)\n              typeBedrooms.innerHTML = enumerator(unitsByType, 'bedrooms');\n            if (typeBathrooms)\n              typeBathrooms.innerHTML = enumerator(unitsByType, 'bathrooms');\n          }\n        }\n      }\n      if (thirdParam) {\n        if (propertiesStatus === 200) {\n          const [paramKey, paramValue] = thirdParam.split('-');\n          if (paramKey === 'etapa') {\n            const floors = document.querySelectorAll('[class~=\"floor-mask\"]');\n            if (floors) {\n              floors.forEach((floor) => {\n                for (let i = 0; i < floor.classList.length; i++) {\n                  const className = floor.classList[i];\n                  if (className.includes('piso')) {\n                    const number = className.split('-')[1];\n                    const aptos = units.filter((unit) => {\n                      return unit.floor.toString() === number.toString();\n                    });\n                    let allAvailable = 0;\n                    aptos.forEach((apto) => {\n                      if (apto.available !== 'sold') allAvailable += 1;\n                    });\n\t\t\t\t\tconst tagFloor = floor.querySelector('.fs7--fw2--fcoa')\n\t\t\t\t\tif (tagFloor) tagFloor.innerHTML = `Piso ${number}`;\n\t\t\t\t\tconst tagTotal = floor.querySelector('.fs7-2--fcoa')\n\t\t\t\t\tif (tagTotal) tagTotal.innerHTML = `${allAvailable} de ${aptos.length}`;\n                    if (allAvailable === 0) {\n\t\t\t\t\t\tconst tagDot = floor.querySelector('.availability-dot');\n\t\t\t\t\t\tif (tagDot) tagDot.classList.add('danger')\n                    }\n                  }\n                }\n              });\n            }\n          }\n          if (paramKey === 'floor') {\n            if (!Object.keys(typologies).length) {\n              const {\n                status: typesStatus,\n                data: {\n                  project: {\n                    tower: { types },\n                  },\n                },\n              } = await owlyApiHttpClient.getProjectTower({\n                config: {\n                  params: {\n                    product: 'vecindario',\n                    typologies: 'true',\n                  },\n                },\n                urlParams: {\n                  projectId,\n                  towerId,\n                },\n              });\n              if (typesStatus === 200) {\n                types.forEach((typology) => {\n                  typologies[typology.type] = typology.id;\n                });\n              }\n            }\n\n            units.sort((a, b) => {\n              if (a.name > b.name) return 1;\n              if (a.name < b.name) return -1;\n              else return 0;\n            });\n            const unitsByType = [];\n            units.forEach((unit) => {\n              if (unit.floor.toString() === paramValue.toString())\n                unitsByType.push(unit);\n            });\n            unitsByType.forEach((unit, i) => {\n              const apto = document.getElementById(unit.id);\n              if (apto) {\n                for (let index = 0; index < apto.children.length; index++) {\n                  const child = apto.children[index];\n                  if (\n                    child.className === 'html-typology w-embed' &&\n                    unit.available === 'sold'\n                  ) {\n                    child.classList.add('danger');\n                  }\n                  if (child.className === 'tooltip-typology--bbc1--br1') {\n                    const tooltipTypologies = child.children;\n                    for (\n                      let index = 0;\n                      index < tooltipTypologies.length;\n                      index++\n                    ) {\n                      if (\n                        tooltipTypologies[index].className ===\n                          'availability-dot' &&\n                        unit.available === 'sold'\n                      ) {\n                        tooltipTypologies[index].classList.add('danger');\n                      }\n                      if (\n                        tooltipTypologies[index].className === 'fs7-2--fw3--fc1'\n                      ) {\n                        tooltipTypologies[index].innerHTML = unit.name;\n                      }\n                    }\n                  }\n                  if (\n                    child.className === 'tooltip-unit-detail bbc1--br2' ||\n                    child.className === 'tooltip-unit-detail bbc1--br2 show'\n                  ) {\n                    const availability = child.querySelector('.fs7-2--fc2');\n                    if (availability && unit.available === 'sold') {\n                      availability.innerHTML = 'Vendido';\n                    }\n                    const availabilityDot =\n                      child.querySelector('.availability-dot');\n                    if (availability && unit.available === 'sold') {\n                      availabilityDot.classList.add('danger');\n                    }\n                    const referencia = child.querySelector('.fs6--fw3--fc1');\n                    if (referencia) {\n                      referencia.innerHTML = unit.name;\n                    }\n                    const unitFacts =\n                      child.querySelectorAll('.button_main_text');\n                    if (unitFacts.length > 0) {\n                      unitFacts[0].innerHTML = getAreas([unit], 'builtArea');\n                      unitFacts[1].innerHTML = enumerator([unit], 'bedrooms');\n                      unitFacts[2].innerHTML = enumerator([unit], 'bathrooms');\n                    }\n                    const tooltipButtons =\n                      child.querySelector('.tooltip-buttons');\n                    if (tooltipButtons) {\n                      if (unit.available === 'sold')\n                        tooltipButtons.classList.add('hide');\n                      else {\n                        const quoter = tooltipButtons.children[1];\n                        const iframeContainer =\n                          apto.querySelector('.quoter--bbc1');\n                        const quoterIframe =\n                          iframeContainer.querySelector('.quoter-iframe');\n\n                        const iframe = quoterIframe.children[0];\n                        const url = `https://cotizador.vecindariosuite.com/proyecto/owly-demo/cotizar/${BASE_QUOTER_ID}/?towerId=${towerId}&typologyId=${\n                          typologies[unit.type]\n                        }&propertyId=${unit.id}`;\n                        quoter.addEventListener('click', function (e) {\n                          e.preventDefault();\n\n                          if (iframe && typologies[unit.type]) {\n                            iframe.setAttribute('src', url);\n                            if (iframeContainer.classList.contains('show'))\n                              iframeContainer.classList.remove('show');\n                            else iframeContainer.classList.add('show');\n                          }\n                        });\n                      }\n                    }\n                  }\n                }\n              }\n            });\n          }\n        }\n      }\n    }\n  } catch (error) {\n    console.log(error);\n  }\n}\n"],"names":["composeUrl","url","params","arguments","length","undefined","matches","match","parsedUrl","forEach","name","replace","createHttpClient","_ref","baseURL","headers","endpoints","timeout","axiosInstance","axios","create","httpClient","Object","entries","_ref2","endpointName","options","method","urlParams","config","data","composedUrl","includes","owlyApiHttpClient","getProject","getProjectTower","createLead","getProjectAvailability","_project$units","product","companyCode","projectId","token","itemCallback","limit","status","project","units","unit","getFormElementData","$formElement","serializeArray","reduce","acc","value","submitHandler","event","$element","$submitBtn","find","$alert","prop","then","trigger","removeClass","setTimeout","addClass","reset","initForm","formSelector","parsley","Parsley","Factory","errorClass","successClass","errorsWrapper","errorTemplate","on","availabilityCriteria","formatNumberES","n","d","Intl","NumberFormat","format","parseFloat","toFixed","decimals","indexOf","repeat","formatTowerType","text","array","split","element","index","toUpperCase","slice","join","formatDate","date","year","month","months","getMinimumPrice","attribute","minimumPrice","every","e","available","i","getAreas","min","max","enumerator","quantities","push","sort","a","b","last","pop","getVecindario","constants","BASE_QUOTER_ID","towerId","typologies","root","propertiesStatus","tower","pathname","window","location","towersStatus","towers","towerType","document","getElementById","totalTowers","deadline","innerHTML","totalProperties","areas","bedrooms","bathrooms","_secondParam","_thirdParam","fit","secondParam","thirdParam","isType","type","typeName","typeMinPrice","builtArea","privateArea","typeBedrooms","typeBathrooms","unitsByType","paramKey","paramValue","floors","querySelectorAll","floor","classList","className","number","aptos","filter","toString","allAvailable","apto","tagFloor","querySelector","tagTotal","tagDot","add","keys","typesStatus","types","typology","id","children","child","tooltipTypologies","availability","availabilityDot","referencia","unitFacts","tooltipButtons","quoter","iframeContainer","quoterIframe","iframe","addEventListener","preventDefault","setAttribute","contains","remove","error","console","log"],"mappings":"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"}