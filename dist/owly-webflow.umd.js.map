{"version":3,"file":"owly-webflow.umd.js","sources":["../src/config/environment.js","../src/lib/create-http-client.js","../src/get-project-availability.js"],"sourcesContent":["export const environment = {\n  apis: {\n    owly: {\n      baseURL: 'https://owly.com.co/owly-api/index.php',\n      endpoints: {\n        getProject: {\n          method: 'get',\n          url: '/project/{projectId}',\n        },\n      },\n    },\n  },\n};\n","import axios from 'axios';\n\nfunction composeUrl(url, params = {}) {\n  const matches = url.match(/\\{([a-zA-Z0-9_]+)}/g);\n\n  if (matches) {\n    let parsedUrl = url;\n\n    matches.forEach((match) => {\n      const name = match.replace(/{?}?/g, '');\n\n      parsedUrl = parsedUrl.replace(match, params[name] || '');\n    });\n\n    return parsedUrl;\n  }\n\n  return url;\n}\n\nfunction createHttpClient({\n  baseURL,\n  headers = {},\n  endpoints = {},\n  timeout = 30000,\n}) {\n  const axiosInstance = axios.create({ baseURL, headers, timeout });\n  const httpClient = {};\n\n  Object.entries(endpoints).forEach(([endpointName, options]) => {\n    const { url, method } = options;\n\n    httpClient[endpointName] = ({ urlParams, config = {}, data = {} } = {}) => {\n      const composedUrl = composeUrl(url, urlParams);\n\n      if (['get', 'delete', 'head', 'options'].includes(method)) {\n        return axiosInstance[method](composedUrl, config);\n      }\n\n      return axiosInstance[method](composedUrl, data, config);\n    };\n  });\n\n  return httpClient;\n}\n\nexport default createHttpClient;\n","import { environment } from '@app-config/environment';\nimport createHttpClient from './lib/create-http-client';\n\nconst owlyHttpClient = createHttpClient(environment.apis.owly);\n\nasync function getProjectAvailability(options) {\n  const {\n    product,\n    companyCode,\n    projectId,\n    token,\n    itemCallback,\n    limit = 400,\n  } = options;\n\n  const { status, data } = await owlyHttpClient.getProject({\n    config: {\n      headers: {\n        product,\n        'company-code': companyCode,\n      },\n      params: { limit, token },\n    },\n    urlParams: {\n      projectId,\n    },\n  });\n\n  if (status === 200 && data.items?.length) {\n    data.items.forEach((item) => {\n      if (itemCallback && typeof itemCallback === 'function') {\n        itemCallback(item);\n      }\n    });\n  }\n}\n\nexport default getProjectAvailability;\n"],"names":["environment","apis","owly","baseURL","endpoints","getProject","method","url","composeUrl","params","arguments","length","undefined","matches","match","parsedUrl","forEach","name","replace","createHttpClient","_ref","headers","timeout","axiosInstance","axios","create","httpClient","Object","entries","_ref2","endpointName","options","urlParams","config","data","composedUrl","includes","owlyHttpClient","getProjectAvailability","_data$items","product","companyCode","projectId","token","itemCallback","limit","status","items","item"],"mappings":";;;;;;EAAO,MAAMA,WAAW,GAAG;EACzBC,EAAAA,IAAI,EAAE;EACJC,IAAAA,IAAI,EAAE;EACJC,MAAAA,OAAO,EAAE,wCAAwC;EACjDC,MAAAA,SAAS,EAAE;EACTC,QAAAA,UAAU,EAAE;EACVC,UAAAA,MAAM,EAAE,KAAK;EACbC,UAAAA,GAAG,EAAE,sBAAA;EACP,SAAA;EACF,OAAA;EACF,KAAA;EACF,GAAA;EACF,CAAC;;ECVD,SAASC,UAAUA,CAACD,GAAG,EAAe;EAAA,EAAA,IAAbE,MAAM,GAAAC,SAAA,CAAAC,MAAA,GAAA,CAAA,IAAAD,SAAA,CAAA,CAAA,CAAA,KAAAE,SAAA,GAAAF,SAAA,CAAA,CAAA,CAAA,GAAG,EAAE,CAAA;EAClC,EAAA,MAAMG,OAAO,GAAGN,GAAG,CAACO,KAAK,CAAC,qBAAqB,CAAC,CAAA;EAEhD,EAAA,IAAID,OAAO,EAAE;MACX,IAAIE,SAAS,GAAGR,GAAG,CAAA;EAEnBM,IAAAA,OAAO,CAACG,OAAO,CAAEF,KAAK,IAAK;QACzB,MAAMG,IAAI,GAAGH,KAAK,CAACI,OAAO,CAAC,OAAO,EAAE,EAAE,CAAC,CAAA;EAEvCH,MAAAA,SAAS,GAAGA,SAAS,CAACG,OAAO,CAACJ,KAAK,EAAEL,MAAM,CAACQ,IAAI,CAAC,IAAI,EAAE,CAAC,CAAA;EAC1D,KAAC,CAAC,CAAA;EAEF,IAAA,OAAOF,SAAS,CAAA;EAClB,GAAA;EAEA,EAAA,OAAOR,GAAG,CAAA;EACZ,CAAA;EAEA,SAASY,gBAAgBA,CAAAC,IAAA,EAKtB;IAAA,IALuB;MACxBjB,OAAO;MACPkB,OAAO,GAAG,EAAE;MACZjB,SAAS,GAAG,EAAE;EACdkB,IAAAA,OAAO,GAAG,KAAA;EACZ,GAAC,GAAAF,IAAA,CAAA;EACC,EAAA,MAAMG,aAAa,GAAGC,KAAK,CAACC,MAAM,CAAC;MAAEtB,OAAO;MAAEkB,OAAO;EAAEC,IAAAA,OAAAA;EAAQ,GAAC,CAAC,CAAA;IACjE,MAAMI,UAAU,GAAG,EAAE,CAAA;IAErBC,MAAM,CAACC,OAAO,CAACxB,SAAS,CAAC,CAACY,OAAO,CAACa,KAAA,IAA6B;EAAA,IAAA,IAA5B,CAACC,YAAY,EAAEC,OAAO,CAAC,GAAAF,KAAA,CAAA;MACxD,MAAM;QAAEtB,GAAG;EAAED,MAAAA,MAAAA;EAAO,KAAC,GAAGyB,OAAO,CAAA;EAE/BL,IAAAA,UAAU,CAACI,YAAY,CAAC,GAAG,YAAgD;QAAA,IAA/C;UAAEE,SAAS;UAAEC,MAAM,GAAG,EAAE;EAAEC,QAAAA,IAAI,GAAG,EAAC;EAAE,OAAC,GAAAxB,SAAA,CAAAC,MAAA,GAAAD,CAAAA,IAAAA,SAAA,CAAAE,CAAAA,CAAAA,KAAAA,SAAA,GAAAF,SAAA,CAAG,CAAA,CAAA,GAAA,EAAE,CAAA;EACpE,MAAA,MAAMyB,WAAW,GAAG3B,UAAU,CAACD,GAAG,EAAEyB,SAAS,CAAC,CAAA;EAE9C,MAAA,IAAI,CAAC,KAAK,EAAE,QAAQ,EAAE,MAAM,EAAE,SAAS,CAAC,CAACI,QAAQ,CAAC9B,MAAM,CAAC,EAAE;UACzD,OAAOiB,aAAa,CAACjB,MAAM,CAAC,CAAC6B,WAAW,EAAEF,MAAM,CAAC,CAAA;EACnD,OAAA;QAEA,OAAOV,aAAa,CAACjB,MAAM,CAAC,CAAC6B,WAAW,EAAED,IAAI,EAAED,MAAM,CAAC,CAAA;OACxD,CAAA;EACH,GAAC,CAAC,CAAA;EAEF,EAAA,OAAOP,UAAU,CAAA;EACnB;;ECzCA,MAAMW,cAAc,GAAGlB,gBAAgB,CAACnB,WAAW,CAACC,IAAI,CAACC,IAAI,CAAC,CAAA;EAE9D,eAAeoC,sBAAsBA,CAACP,OAAO,EAAE;EAAA,EAAA,IAAAQ,WAAA,CAAA;IAC7C,MAAM;MACJC,OAAO;MACPC,WAAW;MACXC,SAAS;MACTC,KAAK;MACLC,YAAY;EACZC,IAAAA,KAAK,GAAG,GAAA;EACV,GAAC,GAAGd,OAAO,CAAA;IAEX,MAAM;MAAEe,MAAM;EAAEZ,IAAAA,IAAAA;EAAK,GAAC,GAAG,MAAMG,cAAc,CAAChC,UAAU,CAAC;EACvD4B,IAAAA,MAAM,EAAE;EACNZ,MAAAA,OAAO,EAAE;UACPmB,OAAO;EACP,QAAA,cAAc,EAAEC,WAAAA;SACjB;EACDhC,MAAAA,MAAM,EAAE;UAAEoC,KAAK;EAAEF,QAAAA,KAAAA;EAAM,OAAA;OACxB;EACDX,IAAAA,SAAS,EAAE;EACTU,MAAAA,SAAAA;EACF,KAAA;EACF,GAAC,CAAC,CAAA;EAEF,EAAA,IAAII,MAAM,KAAK,GAAG,IAAA,CAAAP,WAAA,GAAIL,IAAI,CAACa,KAAK,cAAAR,WAAA,KAAA,KAAA,CAAA,IAAVA,WAAA,CAAY5B,MAAM,EAAE;EACxCuB,IAAAA,IAAI,CAACa,KAAK,CAAC/B,OAAO,CAAEgC,IAAI,IAAK;EAC3B,MAAA,IAAIJ,YAAY,IAAI,OAAOA,YAAY,KAAK,UAAU,EAAE;UACtDA,YAAY,CAACI,IAAI,CAAC,CAAA;EACpB,OAAA;EACF,KAAC,CAAC,CAAA;EACJ,GAAA;EACF;;;;;;;;"}